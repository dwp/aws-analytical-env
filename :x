groups:
  - name: master
    jobs:
      - development
      - qa
      - integration
      - preprod
      - after-midnight-check
      - production

  - name: pull-request
    jobs:
      - pull-request
      - pull-request-cognito

  - name: cognito
    jobs:
      - management-dev
      - management

  - name: taint-emr
    jobs:
      - taint-dev
      - taint-qa
      - taint-int
      - taint-preprod
      - taint-prod

  - name: codecommit
    jobs:
      - copy-repos
      - copy-rnd-incoming

  - name: testing
    jobs:
      - testing-development
      - testing-qa
      - testing-production
      - testing-integration
      - testing-preproduction
      - metrics-submit-job-development
      - metrics-submit-job-production
      - metrics-submit-job-preproduction
      - metrics-submit-job-integration
      - metrics-submit-job-qa

  - name: github-proxy
    jobs:
      - gh-proxy-mgmt-dev
      - gh-proxy-mgmt

  - name: admin-rbac
    jobs:
      - rotate-mysql-master-credentials-development
      - rotate-mysql-client-credentials-development
      - initialise-rbac-db-development

      - rotate-mysql-master-credentials-qa
      - rotate-mysql-client-credentials-qa
      - initialise-rbac-db-qa

      - rotate-mysql-master-credentials-integration
      - rotate-mysql-client-credentials-integration
      - initialise-rbac-db-integration

      - rotate-mysql-master-credentials-preprod
      - rotate-mysql-client-credentials-preprod
      - initialise-rbac-db-preprod

      - rotate-mysql-master-credentials-production
      - rotate-mysql-client-credentials-production
      - initialise-rbac-db-production

  - name: admin-sync-and-munge
    jobs:
      - sync-cognito-users-to-rds-development
      - create-roles-and-munged-policies-development

      - sync-cognito-users-to-rds-qa
      - create-roles-and-munged-policies-qa

      - sync-cognito-users-to-rds-integration
      - create-roles-and-munged-policies-integration

      - sync-cognito-users-to-rds-preprod
      - create-roles-and-munged-policies-preprod

      - sync-cognito-users-to-rds-production
      - create-roles-and-munged-policies-production

  - name: admin-batch-cluster
    jobs:
      - dev-stop-batch-cluster
      - qa-stop-batch-cluster
      - int-stop-batch-cluster
      - preprod-stop-batch-cluster
      - prod-stop-batch-cluster

      - dev-cleanup
      - qa-cleanup
      - int-cleanup
      - preprod-cleanup
      - prodution-cleanup

      - dev-stop-waiting
      - qa-stop-waiting
      - int-stop-waiting
      - preprod-stop-waiting
      - prod-stop-waiting

  - name: ami-test
    jobs:
      - apply-and-test-with-ami

  - name: admin-analytical-cluster
    jobs:
      - dev-stop-cluster
      - qa-stop-cluster
      - int-stop-cluster
      - preprod-stop-cluster
      - prod-stop-cluster

  - name: update-pipeline
    jobs:
      - update-pipeline
